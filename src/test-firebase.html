<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Test</title>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyCa3CSI4B0tmUvWARj1bPtahnBJ5LwX2Mc",
            authDomain: "chronosi.firebaseapp.com",
            projectId: "chronosi",
            storageBucket: "chronosi.firebasestorage.app",
            messagingSenderId: "266408259350",
            appId: "1:266408259350:web:086b5fba6778216a976a37",
            measurementId: "G-BL5BY68P1K"
        };

        try {
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            
            console.log('✅ Firebase initialized successfully');
            console.log('✅ Auth service loaded');
            
            // Test basic auth functionality
            document.getElementById('testBtn').addEventListener('click', async () => {
                try {
                    const testEmail = 'test@example.com';
                    const testPassword = 'testpass123';
                    
                    console.log('Testing user creation...');
                    const userCredential = await createUserWithEmailAndPassword(auth, testEmail, testPassword);
                    console.log('✅ User created successfully:', userCredential.user.uid);
                    
                    // Clean up - delete the test user
                    await userCredential.user.delete();
                    console.log('✅ Test user cleaned up');
                    
                } catch (error) {
                    console.error('❌ Auth test failed:', error.code, error.message);
                    document.getElementById('result').innerHTML = `<p style="color: red;">Error: ${error.code} - ${error.message}</p>`;
                }
            });
            
        } catch (error) {
            console.error('❌ Firebase initialization failed:', error);
            document.getElementById('result').innerHTML = `<p style="color: red;">Firebase init failed: ${error.message}</p>`;
        }
    </script>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <p>Open browser console to see detailed logs</p>
    <button id="testBtn">Test Firebase Auth</button>
    <div id="result"></div>
</body>
</html>
